<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ìè¨ÏºìÎ™¨ ÌéòÎÑêÌã∞ÌÇ•(Ïû•Ïú†Í≥†)</title>
  <style>
    :root {
      --goalLeft: 16%;
      --goalRight: 16%;
      --goalTop: 6%;
      --goalHeight: 39%;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Noto Sans KR", sans-serif;
      background: #0f1416;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .wrap { width: min(980px, 96vw); }
    h1 { text-align: center; margin: 10px 0; }

    .hud {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .input {
      padding: 6px 8px;
      border-radius: 8px;
      border: none;
      background: #37474f;
      color: #fff;
      width: 120px;
      text-align: center;
    }
    .btn {
      background: #00bcd4;
      border: none;
      color: #042024;
      padding: 6px 10px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
    }

    .badge {
      background: #263238;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 14px;
      font-weight: bold;
    }

    .arena {
      position: relative;
      aspect-ratio: 16/9;
      width: 100%;
      background: linear-gradient(#2e7d32, #1b5e20);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 10px 30px #0009;
      touch-action: none;
    }

    .goal {
      position: absolute;
      left: var(--goalLeft);
      right: var(--goalRight);
      top: var(--goalTop);
      height: var(--goalHeight);
      border: 10px solid #e0e0e0;
      border-bottom: none;
      border-radius: 14px 14px 0 0;
      background: repeating-linear-gradient(90deg, #cfd8dc 0 2px, transparent 2px 18px),
                  repeating-linear-gradient(0deg, #cfd8dc 0 2px, transparent 2px 18px);
    }

    .line {
      position: absolute;
      left: 8%;
      right: 8%;
      bottom: 15%;
      border: 2px solid #fff;
      border-top: none;
      border-radius: 0 0 14px 14px;
    }

    .spot {
      position: absolute;
      left: 50%;
      bottom: 13.8%;
      width: 10px;
      height: 10px;
      background: #fff;
      border-radius: 50%;
      transform: translateX(-50%);
    }

    /* Íº¨Î∂ÄÍ∏∞ */
    .keeper {
      position: absolute;
      left: 50%;
      top: calc(var(--goalTop) + var(--goalHeight) - 40px);
      width: 96px;
      height: 106px;
      transform: translateX(-50%);
      animation: idle 1.05s ease-in-out infinite alternate;
      z-index: 12;
    }
    @keyframes idle {
      from { transform: translateX(-52%); }
      to { transform: translateX(-48%); }
    }

    .keeper .head {
      position: absolute;
      left: 50%;
      top: 6px;
      width: 76px;
      height: 62px;
      transform: translateX(-50%);
      background: #4fc3f7;
      border: 3px solid #0288d1;
      border-radius: 44px;
      z-index: 5;
    }

    .keeper .eye {
      position: absolute;
      top: 20px;
      width: 14px;
      height: 18px;
      background: #fff;
      border: 2px solid #1b1b1b;
      border-radius: 10px;
    }
    .keeper .eye.left { left: 12px; }
    .keeper .eye.right { right: 12px; }
    .keeper .pupil {
      position: absolute;
      left: 50%;
      top: 50%;
      width: 8px;
      height: 10px;
      transform: translate(-50%, -35%);
      background: #1b1b1b;
      border-radius: 6px;
    }

    .keeper .torso {
      position: absolute;
      left: 50%;
      top: 36px;
      width: 72px;
      height: 56px;
      transform: translateX(-50%);
      background: #4fc3f7;
      border: 3px solid #0288d1;
      border-radius: 36px;
    }

    .keeper .belly {
      position: absolute;
      left: 50%;
      top: 48px;
      width: 48px;
      height: 36px;
      transform: translateX(-50%);
      background: #ffe0b2;
      border: 3px solid #efcc96;
      border-radius: 40px/30px;
      z-index: 6;
    }

    .keeper .arm {
      position: absolute;
      top: 62px;
      width: 18px;
      height: 26px;
      background: #4fc3f7;
      border: 3px solid #0288d1;
      border-radius: 12px;
    }
    .keeper .arm.left { left: 2px; transform: rotate(-14deg); }
    .keeper .arm.right { right: 2px; transform: rotate(14deg); }

    .keeper .leg {
      position: absolute;
      bottom: 6px;
      width: 20px;
      height: 16px;
      background: #4fc3f7;
      border: 3px solid #0288d1;
      border-radius: 12px;
    }
    .keeper .leg.left { left: 24px; }
    .keeper .leg.right { right: 24px; }

    /* ‚úÖ Îì±ÍªçÏßà ÏàòÏ†ï Î∂ÄÎ∂Ñ */
    .keeper .shell {
      position: absolute;
      left: 50%;
      top: 20px; /* ÏÇ¥Ïßù ÏúÑÎ°ú Ïò¨Î¶º */
      width: 80px;
      height: 74px;
      transform: translateX(-50%);
      background: #8d6e63;
      border: 4px solid #5d4037;
      border-radius: 44px/36px;
      box-shadow: inset 0 0 0 10px #bcaaa4;
      z-index: 7; /* ÏñºÍµ¥(head)Î≥¥Îã§ ÏúÑÏ™Ω */
    }

    .keeper .shell .panel {
      position: absolute;
      inset: 8px;
      border-radius: 34px/28px;
      background:
        linear-gradient(90deg, rgba(0,0,0,0.06) 0 2px, transparent 2px 100%),
        linear-gradient(0deg, rgba(255,255,255,0.03) 0 2px, transparent 2px 100%);
    }

    /* --- Ïù¥Ìïò Î™®Îì† Í∏∞Ï°¥ ÏΩîÎìú ÎèôÏùº --- */
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Ìè¨ÏºìÎ™¨ ÌéòÎÑêÌã∞ÌÇ• (Íº¨Î∂ÄÍ∏∞ Îì±ÍªçÏßà Í∞úÏÑ†Ìåê)</h1>
    <div class="hud">
      <input id="studentId" class="input" placeholder="ÌïôÎ≤à (10101)" maxlength="5" inputmode="numeric" />
      <button id="startBtn" class="btn">Start</button>
      <div class="badge">Ïó∞ÏÜç Í≥®: <span id="streak">0</span></div>
    </div>
    <div class="arena" id="arena">
      <div class="goal"></div>
      <div class="line"></div>
      <div class="spot"></div>

      <div class="keeper" id="keeper">
        <div class="head">
          <div class="eye left"><div class="pupil"></div></div>
          <div class="eye right"><div class="pupil"></div></div>
        </div>
        <div class="torso"></div>
        <div class="belly"></div>
        <div class="arm left"></div>
        <div class="arm right"></div>
        <div class="leg left"></div>
        <div class="leg right"></div>
        <div class="shell"><div class="panel"></div></div>
      </div>

      <div class="ball" id="ball" style="position:absolute;left:50%;bottom:14%;width:40px;height:40px;background:red;border-radius:50%;transform:translateX(-50%);"></div>
    </div>
  </div>

  <script>
    // üî∏ Ïù¥ ÏòàÏãúÎäî UI ÌÖåÏä§Ìä∏Ïö© Í∞ÑÎã® Î≤ÑÏ†ÑÏûÖÎãàÎã§.
    // Ïã§Ï†ú ÏõêÎ≥∏ Firebase + Î°úÏßÅ ÌååÏùºÏóê CSSÎßå ÏúÑÏ≤òÎüº ÏàòÏ†ïÌï¥ÏÑú Î∂ôÏù¥Î©¥ ÏôÑÎ≤Ω ÏûëÎèôÌï©ÎãàÎã§.
    const arena = document.getElementById('arena');
    const keeper = document.getElementById('keeper');
    arena.addEventListener('click',()=>keeper.animate([{transform:'translate(-50%,0)'},{transform:'translate(-50%,-20px)'}],{duration:400,fill:'forwards'}));
  </script>
</body>
</html>
